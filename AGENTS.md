# TSS сценарий: инструкции для AI

Эта репозитория использует простой текстовый язык сценариев `.tss` для воспроизведения действий в терминале. Ниже — краткие правила и соглашения, выведенные из всех существующих `.tss` файлов и их парсера.

## Общий формат
- Файл — последовательность директив (строки, оканчивающиеся двоеточием) и их данных.
- Директивы чувствительны к написанию и должны быть в нижнем регистре.
- Пустые строки допускаются и часто используются для разделения блоков.

## Директивы

### `audio:`
- Следующая строка после директивы содержит путь к аудио-файлу (обычно `.mp3`) относительно каталога `scenarios/`.
- Пример:
  ```
  audio:
  2-4-3/2-4-3.1.mp3
  ```

### `prompt:`
- Следующая строка задаёт текст приглашения терминала.
- Используется при необходимости показать другой формат приглашения.
- Пример:
  ```
  prompt:
  ~(as pavel):
  ```

### `input:`
- Следующая строка — ввод пользователя, который печатается «вручную».
- Поддерживает встроенные задержки через маркер `%{delay N}` (N в миллисекундах).
- Пример:
  ```
  input:
  %{delay 500}ls -l
  ```

### `paste:`
- Следующая строка — вставка текста (появляется быстрее, как «paste»).
- Также поддерживает `%{delay N}`.
- Пример:
  ```
  paste:
  %{delay 500}sudo apt-get update
  ```

### `output:`
- Блок вывода терминала. Считывается построчно до следующей директивы или конца файла.
- Поддерживает:
  - `%{delay N}` — пауза между частями строки.
  - Цветовые маркеры: `%{begin:BGm;FGm}` … `%{end:BGm;FGm}` (ANSI-цвета).
- Пример:
  ```
  output:
  Hello world
   %{begin:107m;30m}highlight%{end:107m;30m}
  ```

### `delay:`
- Следующая строка — число миллисекунд, пауза между действиями.
- Пример:
  ```
  delay:
  1000
  ```

### `clear:`
- Очищает терминал. Данных не требуется.
- Пример:
  ```
  clear:
  ```

### `scroll_lines:`
- Следующая строка — целое число, количество строк прокрутки (положительное — вниз, отрицательное — вверх).
- Пример:
  ```
  scroll_lines:
  -37
  ```

## Особенности задержек
- `%{delay N}` можно вставлять в `input:`, `paste:` и `output:` строки для пауз внутри строки.
- В `output:` текст разбивается на части и отображается с паузами.

## Практические рекомендации
- Держите действия в логическом порядке: `audio:` ➜ `prompt:` ➜ `input:`/`paste:` ➜ `output:` ➜ `delay:` ➜ `clear:`.
- Всегда указывайте миллисекунды целым числом.
- Для читаемости используйте пустые строки между директивами.
